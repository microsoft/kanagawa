<style>
a
{
  text-decoration : none;
}

a:hover
{
  text-decoration : underline;
}

.container
{
  display        : flex;
  flex-direction : row;
}

.nav
{
  position         : -webkit-sticky;
  position         : sticky;
  flex-basis       : 10%;
  background-color : #f2f3f4;
  padding          : 20px 20px 20px 20px;
  top              : 10vh;
  height           : max-content;
  max-height       : 80vh;
  overflow-y       : auto;
  min-width        : max-content;
  margin           : 3em 3em 3em 3em;
}

.content
{
  flex-basis : 80%;
  max-width  : 1450px;
  margin     : 3em auto 3em auto;
}

.signature
{
  font-family      : monospace;
  background-color : #f2f3f4;
  color            : #373d3f;
  border           : 1px solid #dddddd;
  border-left      : 3px solid #0080ff;
  border-radius    : 5px 5px 5px 5px;
  margin-bottom    : 0.5em;
  padding          : 0.5em 1em 0.5em 1em;
}

.body
{
  font-family : "", sans-serif;
  font-size   : 1em;
  padding     : 10px 10px 10px 10px;
  color       : #1c1b24;
  line-height : 1.4;
}

.docs
{
  padding-left  : 1em;
  margin-top    : -0.4em;
  margin-bottom : 1.4em;
  border-left   : 1px solid #dcdcdc;
}

.docs details
{
  margin-top : 1em;
}

.body h1, h2, h3, h4
{
  color : #283665;
}

.kanagawa
{
  background-color : #f7f7f7;
  padding          : 1em 1em 1em 1em;
}

.anchor
{
  color : #c5c8c6;
}

.attribute
{
  color : #ffa500;
}

.builtin
{
  color : #cfb017;
}

.identifier
{
  font-weight : bold;
}

.keyword
{
  color : #60ac39;
}

.link
{
  color : #6684e1;
}

.literal
{
  color : #d73737;
}

.modifier
{
  color : #b854d4;
}

.subList
{
  list-style-type : none;
}

code
{
  font-family : monospace;
  font-size   : 1.2em;
}

.nav ul
{
  list-style-type : none;
}

.nav > ul
{
  padding-left : 0px;
}


/* Generated with Clay, http://fvisser.nl/clay */</style>
<div id="body" class="body">
<div id="container" class="container">
<section id="nav" class="nav">
<h2>Index</h2>
<ul>
<li><a href="../data/array.html" id="index-link"
class="link">data.array</a>
<ul>
<li><a href="../data/array.html#data-array-all" id="index-link"
class="link"><code>all</code></a></li>
<li><a href="../data/array.html#data-array-and" id="index-link"
class="link"><code>and</code></a></li>
<li><a href="../data/array.html#data-array-any" id="index-link"
class="link"><code>any</code></a></li>
<li><a href="../data/array.html#data-array-array" id="index-link"
class="link"><code>array</code></a></li>
<li><a href="../data/array.html#data-array-at" id="index-link"
class="link"><code>at</code></a></li>
<li><a href="../data/array.html#data-array-back" id="index-link"
class="link"><code>back</code></a></li>
<li><a href="../data/array.html#data-array-bitonic_sort" id="index-link"
class="link"><code>bitonic_sort</code></a></li>
<li><a href="../data/array.html#data-array-copy_array" id="index-link"
class="link"><code>copy_array</code></a></li>
<li><a href="../data/array.html#data-array-drop" id="index-link"
class="link"><code>drop</code></a></li>
<li><a href="../data/array.html#data-array-equal" id="index-link"
class="link"><code>equal</code></a></li>
<li><a href="../data/array.html#data-array-equal_by" id="index-link"
class="link"><code>equal_by</code></a></li>
<li><a href="../data/array.html#data-array-first_valid" id="index-link"
class="link"><code>first_valid</code></a></li>
<li><a href="../data/array.html#data-array-foldl" id="index-link"
class="link"><code>foldl</code></a></li>
<li><a href="../data/array.html#data-array-foldr" id="index-link"
class="link"><code>foldr</code></a></li>
<li><a href="../data/array.html#data-array-front" id="index-link"
class="link"><code>front</code></a></li>
<li><a href="../data/array.html#data-array-inclusive_scan"
id="index-link" class="link"><code>inclusive_scan</code></a></li>
<li><a href="../data/array.html#data-array-indices" id="index-link"
class="link"><code>indices</code></a></li>
<li><a href="../data/array.html#data-array-init" id="index-link"
class="link"><code>init</code></a></li>
<li><a href="../data/array.html#data-array-intersperse" id="index-link"
class="link"><code>intersperse</code></a></li>
<li><a href="../data/array.html#data-array-iterate" id="index-link"
class="link"><code>iterate</code></a></li>
<li><a href="../data/array.html#data-array-last_valid" id="index-link"
class="link"><code>last_valid</code></a></li>
<li><a href="../data/array.html#data-array-map" id="index-link"
class="link"><code>map</code></a></li>
<li><a href="../data/array.html#data-array-map_indices" id="index-link"
class="link"><code>map_indices</code></a></li>
<li><a href="../data/array.html#data-array-map_reduce" id="index-link"
class="link"><code>map_reduce</code></a></li>
<li><a href="../data/array.html#data-array-maximum" id="index-link"
class="link"><code>maximum</code></a></li>
<li><a href="../data/array.html#data-array-minimum" id="index-link"
class="link"><code>minimum</code></a></li>
<li><a href="../data/array.html#data-array-or" id="index-link"
class="link"><code>or</code></a></li>
<li><a href="../data/array.html#data-array-partial_sort" id="index-link"
class="link"><code>partial_sort</code></a></li>
<li><a href="../data/array.html#data-array-prefix_sum" id="index-link"
class="link"><code>prefix_sum</code></a></li>
<li><a href="../data/array.html#data-array-reduce" id="index-link"
class="link"><code>reduce</code></a></li>
<li><a href="../data/array.html#data-array-repeat" id="index-link"
class="link"><code>repeat</code></a></li>
<li><a href="../data/array.html#data-array-rotate_array_left"
id="index-link" class="link"><code>rotate_array_left</code></a></li>
<li><a href="../data/array.html#data-array-rotate_array_right"
id="index-link" class="link"><code>rotate_array_right</code></a></li>
<li><a href="../data/array.html#data-array-shift_array_left"
id="index-link" class="link"><code>shift_array_left</code></a></li>
<li><a href="../data/array.html#data-array-shift_array_right"
id="index-link" class="link"><code>shift_array_right</code></a></li>
<li><a href="../data/array.html#data-array-singleton" id="index-link"
class="link"><code>singleton</code></a></li>
<li><a href="../data/array.html#data-array-sum" id="index-link"
class="link"><code>sum</code></a></li>
<li><a href="../data/array.html#data-array-tail" id="index-link"
class="link"><code>tail</code></a></li>
<li><a href="../data/array.html#data-array-take" id="index-link"
class="link"><code>take</code></a></li>
<li><a href="../data/array.html#data-array-transpose" id="index-link"
class="link"><code>transpose</code></a></li>
<li><a href="../data/array.html#data-array-unique" id="index-link"
class="link"><code>unique</code></a></li>
<li><a href="../data/array.html#data-array-unique_by" id="index-link"
class="link"><code>unique_by</code></a></li>
<li><a href="../data/array.html#data-array-unzip" id="index-link"
class="link"><code>unzip</code></a></li>
<li><a href="../data/array.html#data-array-unzip_with" id="index-link"
class="link"><code>unzip_with</code></a></li>
<li><a href="../data/array.html#data-array-zip" id="index-link"
class="link"><code>zip</code></a></li>
<li><a href="../data/array.html#data-array-zip_with" id="index-link"
class="link"><code>zip_with</code></a></li>
<li><a href="../data/array.html#data-array-zip_with_indices"
id="index-link" class="link"><code>zip_with_indices</code></a></li>
</ul></li>
</ul>
</section>
<section id="content" class="content">
<h1>data.array <a href="../index.html">&equiv;</a></h1>
<p>Operations on arrays.</p>
<hr />
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="keyword">using</span> <span class="identifier">array</span> = T[N] <a class="anchor" href="#data-array-array" id="data-array-array">ยง</a>
</pre>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>R[N] <span class="identifier">inclusive_scan</span>(T[N] <span class="identifier">input</span>, (R, R) -&gt; R <span class="identifier">AssociativeFn</span>) <a class="anchor" href="#data-array-inclusive_scan" id="data-array-inclusive_scan">ยง</a>
</pre>
<div class="docs">
<p>Perform an inclusive scan on the given array.</p>
<img src="./array.0.svg" />
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; inclusive_scan&lt;uint8&gt;({1, 2, 3}, add);
{1, 3, 6}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>R[N] <span class="identifier">prefix_sum</span>(T[N] <span class="identifier">input</span>) <a class="anchor" href="#data-array-prefix_sum" id="data-array-prefix_sum">ยง</a>
</pre>
<div class="docs">
<p>Compute the prefix sum of the given array.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; prefix_sum&lt;uint1&gt;({1});
{1}

&gt;&gt;&gt; prefix_sum&lt;uint3&gt;({0, 1, 2, 3});
{0, 1, 3, 6}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N, <span class="keyword">typename</span> T&gt;
<span class="modifier">inline </span><a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt;[N] <span class="identifier">partial_sort</span>(T <span class="identifier">x</span>, (T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">cmp</span>, <span class="builtin">bool</span> <span class="identifier">is_last</span>) <a class="anchor" href="#data-array-partial_sort" id="data-array-partial_sort">ยง</a>
</pre>
<div class="docs">
<p>An inline function that returns the smallest N elements seen in a
sequence of elements so far, provided one at a time over multiple calls.
Internally, this is achieved by using a pipeline of N atomic stages each
of which accepts an element, compares it with its current smallest, and
swaps the two if the provided lambda returns true. The remaining element
is then passed onto the next stage, or discarded if no stage follows.
This iterative nature is suitable for use inside a
<code>[[pipelined]]</code> function which would supply one piece of data
per cycle (for example, extracted from a memory).</p>
<p>One use case for this component would be as part of a multi-pass
sorter; the first pass over the dataset would extract the smallest N
elements, and by preventing those returned elements from being
considered again each following pass would extract the next smallest N
elements until the dataset is fully sorted.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>const auto N = 6;
uint8[N] input = {5, 1, 3, 2, 7, 3};
optional&lt;uint8&gt;[6] sorted = pipelined_last(N, [input, N](index_t&lt;N&gt; tid)
{
    return partial_sort&lt;6&gt;(input[tid], less_than&lt;uint8&gt;, tid == N - 1);
});
print(sorted);
// {{true, 1}, {true, 2}, {true, 3}, {true, 3}, {true, 5}, {true, 7}}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Maximum number of elements to be extracted.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Type of each element.</p>
</div>
</li>
</ul>
</div>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
T <span class="identifier">x</span>
</pre>
</li>
<li>
<pre class="signature">
(T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">cmp</span>
</pre>
<div class="docs">
<p>Binary function that returns true when the lhs should be swapped and
stored.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="builtin">bool</span> <span class="identifier">is_last</span>
</pre>
<div class="docs">
<p>Indicates a call with the last element in the sequence so that state
can be reset for the next call.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N, <span class="keyword">typename</span> T&gt;
<span class="modifier">inline </span>T[N] <span class="identifier">bitonic_sort</span>(T[N] <span class="identifier">x</span>, (T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">cmp</span>) <a class="anchor" href="#data-array-bitonic_sort" id="data-array-bitonic_sort">ยง</a>
</pre>
<div class="docs">
<p>Bitonic sorting network. Sorts the passed array such that cmp(x[i],
x[i + 1]) is true for all items.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; bitonic_sort({4, 2, 3, 1}, less_than&lt;uint32&gt;);
{1, 2, 3, 4}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt; <span class="identifier">last_valid</span>(<a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt;[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-last_valid" id="data-array-last_valid">ยง</a>
</pre>
<div class="docs">
<p>Given an array of <code>optional&lt;T&gt;</code>, return the last
(highest array index) item with <code>is_valid</code> true. If there are
no items with <code>is_valid</code> true, then the returned
<code>optional&lt;T&gt;</code> has <code>is_valid</code> set to
false.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; last_valid&lt;uint8&gt;({{false, 0xAB}, {false, 0x22}});
{false, 0xAB}

&gt;&gt;&gt; last_valid&lt;uint8&gt;({{true, 0xCD}, {true, 0xFF}});
{true, 0xFF}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> I, <span class="keyword">auto</span> J&gt;
<span class="modifier">inline </span>T[J][I] <span class="identifier">transpose</span>(T[I][J] <span class="identifier">src</span>) <a class="anchor" href="#data-array-transpose" id="data-array-transpose">ยง</a>
</pre>
<div class="docs">
<p>Transpose rows and columns in a 2-dimensional array.</p>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N, <span class="keyword">typename</span> U&gt;
<span class="modifier">inline </span>T[M] <span class="identifier">shift_array_right</span>(T[N] <span class="identifier">data</span>, U <span class="identifier">amount</span>) <a class="anchor" href="#data-array-shift_array_right" id="data-array-shift_array_right">ยง</a>
</pre>
<div class="docs">
<p>Shift the elements of an arbitrary-typed array right by the given
number of positions, with the possibility of returning a different
number of elements as the input array. Once the input array has been
exhausted, default (zero)-initialized elements will be shifted in from
the end of the array.</p>
<details>
<summary>Examples</summary>
<p>Shift 5 right by 0:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; shift_array_right&lt;5&gt;({0, 1, 2, 3, 4}, 0);
{0, 1, 2, 3, 4}</code></pre>
<p>Shift 5 right by 2 and return 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; shift_array_right&lt;4&gt;({0, 1, 2, 3, 4}, 2);
{2, 3, 4, 0}</code></pre>
<p>Shift 5 right by 10 and return 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; shift_array_right&lt;4&gt;({0, 1, 2, 3, 4}, 10);
{0, 0, 0, 0}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> M
</pre>
<div class="docs">
<p>Number of output elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Data type of input array.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Number of input elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> U
</pre>
<div class="docs">
<p>Data type for shift amount. Must be unsigned. Care should be taken to
minimize the bitwidth of U where posible since it affects the size of
the multiplexers and hence area.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[(N - M)] <span class="identifier">drop</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-drop" id="data-array-drop">ยง</a>
</pre>
<div class="docs">
<p>Drop first M elements of an array</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; drop&lt;2&gt;({0, 1, 2, 3, 4});
{2, 3, 4}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[(N - <span class="literal">1</span>)] <span class="identifier">tail</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-tail" id="data-array-tail">ยง</a>
</pre>
<div class="docs">
<p>Return an array containing all but the first element</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; tail({0, 1, 2, 3, 4});
{1, 2, 3, 4}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[M] <span class="identifier">take</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-take" id="data-array-take">ยง</a>
</pre>
<div class="docs">
<p>Take first M elements of an array</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; take&lt;2&gt;({0, 1, 2, 3, 4});
{0, 1}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[(N - <span class="literal">1</span>)] <span class="identifier">init</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-init" id="data-array-init">ยง</a>
</pre>
<div class="docs">
<p>Return the array without the last element</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; init({0, 1, 2, 3, 4});
{0, 1, 2, 3}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[((<span class="literal">2</span> * N) - <span class="literal">1</span>)] <span class="identifier">intersperse</span>(T <span class="identifier">a</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-intersperse" id="data-array-intersperse">ยง</a>
</pre>
<div class="docs">
<p>Intersperse a value between elements of an array</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; intersperse(-1, {0, 1, 2, 3, 4});
{0, -1, 1, -1, 2, -1, 3, -1, 4}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> U, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>T[M] <span class="identifier">shift_array_left</span>(T[N] <span class="identifier">data</span>, U <span class="identifier">amount</span>) <a class="anchor" href="#data-array-shift_array_left" id="data-array-shift_array_left">ยง</a>
</pre>
<div class="docs">
<p>Shift the elements of an arbitrary-typed array left by the given
number of positions, with the possibility of returning a different
number of elements as the input array. Once the input array has been
exhausted, default (zero) -initialized elements will be shifted in from
the beginning of the array.</p>
<details>
<summary>Examples</summary>
<p>Shift 5 left by 0:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[5] a = shift_array_left({0, 1, 2, 3, 4}, 0);
{0, 1, 2, 3, 4}</code></pre>
<p>Shift 5 left by 2 and return 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[4] a = shift_array_left({0, 1, 2, 3, 4}, 2);
{0, 0, 0, 1}</code></pre>
<p>Shift 5 left by 10 and return 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[4] a = shift_array_left({0, 1, 2, 3, 4}, 10);
{0, 0, 0, 0}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> M
</pre>
<div class="docs">
<p>Number of output elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> U
</pre>
<div class="docs">
<p>Data type for shift amount. Must be unsigned. Care should be taken to
minimize the bitwidth of U where possible since it affects the size of
the multiplexers and hence area.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Data type of input array.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Number of input elements.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N, <span class="keyword">typename</span> U&gt;
<span class="modifier">inline </span>T[M] <span class="identifier">rotate_array_right</span>(T[N] <span class="identifier">data</span>, U <span class="identifier">amount</span>) <a class="anchor" href="#data-array-rotate_array_right" id="data-array-rotate_array_right">ยง</a>
</pre>
<div class="docs">
<p>Rotate the elements of an arbitrary-typed array right by the given
number of positions, with the possibility of returning a different
number of elements as the input array. Elements that are rotated past
the beginning of the array will wrap-around and re-appear at the end of
the array. If this wrap-around behaviour is not strictly necessary,
consider if <code>shift_array_right</code> may be more efficient.</p>
<details>
<summary>Examples</summary>
<p>Rotate 5 right by 0:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[5] a = rotate_array_right({0, 1, 2, 3, 4}, 0);
{0, 1, 2, 3, 4}</code></pre>
<p>Rotate 5 right by 2 returning 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[4] a = rotate_array_right({0, 1, 2, 3, 4}, 2);
{ 2, 3, 4, 0}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> M
</pre>
<div class="docs">
<p>Number of output elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Data type of input array</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Number of input elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> U
</pre>
<div class="docs">
<p>Data type for rotate amount. Must be unsigned. Bitwidth for this type
must be no more than <code>clog2(N)</code>. Care should be taken to
minimize this bitwidth where possible since it affects the size of the
multiplexers and hence area.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> M, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N, <span class="keyword">typename</span> U&gt;
<span class="modifier">inline </span>T[M] <span class="identifier">rotate_array_left</span>(T[N] <span class="identifier">data</span>, U <span class="identifier">amount</span>) <a class="anchor" href="#data-array-rotate_array_left" id="data-array-rotate_array_left">ยง</a>
</pre>
<div class="docs">
<p>Rotate the elements of an arbitrary-typed array left by the given
number of positions, with the possibility of returning a different
number of elements as the input array. Elements that are rotated past
the end of the array will wrap-around and re-appear at the beginning of
the array. If this wrap-around behaviour is not strictly necessary,
consider if <code>shift_array_left</code> may be more efficient.</p>
<details>
<summary>Examples</summary>
<p>Rotate 5 left by 0:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[5] a = rotate_array_left({0, 1, 2, 3, 4}, 0);
{0, 1, 2, 3, 4}</code></pre>
<p>Rotate 5 left by 2 returning 4:</p>
<pre class="kanagawa"><code>&gt;&gt;&gt; uint32[4] a = rotate_array_left({0, 1, 2, 3, 4}, 2);
{3, 4, 0, 1}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> M
</pre>
<div class="docs">
<p>Number of output elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Data type of input array.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Number of input elements.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> U
</pre>
<div class="docs">
<p>Type for rotate amount. Must be unsigned. Bitwidth of this type must
be no more than <code>clog2(N)</code>. Care should be taken to minimize
this bitwidth where possible since it affects the size of the
multiplexers and hence area.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">map</span>((T) -&gt; <span class="keyword">auto</span> <span class="identifier">f</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-map" id="data-array-map">ยง</a>
</pre>
<div class="docs">
<p>Map array of input values to result values.</p>
<img src="./array.1.svg" />
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; map([](bool b){ return !b; }, {true, false, false});
{false, true, true}

&gt;&gt;&gt; map([](uint32 a){ return a + 1; }, {1, 2, 3});
{2, 3, 4}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">map_indices</span>((<a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt;) -&gt; <span class="keyword">auto</span> <span class="identifier">f</span>) <a class="anchor" href="#data-array-map_indices" id="data-array-map_indices">ยง</a>
</pre>
<div class="docs">
<p>Map array of indices to result values.</p>
<img src="./array.2.svg" />
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; map_indices&lt;3&gt;(id)
{0, 1, 2}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">foldr</span>((T, T) -&gt; T <span class="identifier">f</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-foldr" id="data-array-foldr">ยง</a>
</pre>
<div class="docs">
<p>Right-associative fold of an array.</p>
<p>When <code>f</code> is associative <code>reduce</code> is more
efficient.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; foldr(f, {0, 1, 2, 3})
f(0, f(1, f(2, 3)));

&gt;&gt;&gt; foldr(f, {1})
1</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">foldl</span>((T, T) -&gt; T <span class="identifier">f</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-foldl" id="data-array-foldl">ยง</a>
</pre>
<div class="docs">
<p>Left-associative fold of an array.</p>
<p>When <code>f</code> is associative <code>reduce</code> is more
efficient.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; foldl(f, {0, 1, 2, 3})
f(3, f(2, f(1, 0)));

&gt;&gt;&gt; foldl(f, {1})
1</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">reduce</span>((T, T) -&gt; T <span class="identifier">f</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-reduce" id="data-array-reduce">ยง</a>
</pre>
<div class="docs">
<p>Implement a binary reducer tree using a function to reduce a pair of
inputs.</p>
<img src="./array.3.svg" />
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; reduce(add, {0x9, 0x2, 0x5});
0x10

&gt;&gt;&gt; reduce&lt;bool&gt;([](bool x, bool y){ return x || y; }, {false, true, false});
true</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N, <span class="keyword">typename</span> R&gt;
<span class="modifier">inline </span>R <span class="identifier">map_reduce</span>((T) -&gt; R <span class="identifier">map_fn</span>, (R, R) -&gt; R <span class="identifier">reduce_fn</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-map_reduce" id="data-array-map_reduce">ยง</a>
</pre>
<div class="docs">
<p>Implements map-reduce. Inputs are first mapped into the appropriate
result type, and then reduced to a single output using a binary
reduction tree.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>map_reduce
    ( [](uint8 a){ return a % 2 == 0; }
    , [](bool x, bool y){ return x &amp;&amp; y; }
    , {2, 4, 6}
    );
// true; all values are even.</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">or</span>(<span class="builtin">bool</span>[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-or" id="data-array-or">ยง</a>
</pre>
<div class="docs">
<p>Returns true if any of the elements are true.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; or({true})
true

&gt;&gt;&gt; or({false})
false

&gt;&gt;&gt; or({true,true,false})
true</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">and</span>(<span class="builtin">bool</span>[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-and" id="data-array-and">ยง</a>
</pre>
<div class="docs">
<p>Returns true if all of the elements are true.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; and({true})
true

&gt;&gt;&gt; and({false})
false

&gt;&gt;&gt; and({true,true,false})
false</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">any</span>((T) -&gt; <span class="builtin">bool</span> <span class="identifier">predicate</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-any" id="data-array-any">ยง</a>
</pre>
<div class="docs">
<p>Returns true if any of the elements of array satisfies the
predicate.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; any([](uint8 x){ return x &gt; 3; }, {1, 2, 3});
false

&gt;&gt;&gt; any([](uint8 x){ return x &gt; 3; }, {1, 2, 3, 4});
true</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">all</span>((T) -&gt; <span class="builtin">bool</span> <span class="identifier">predicate</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-all" id="data-array-all">ยง</a>
</pre>
<div class="docs">
<p>Returns true if all elements of the array satisfy the predicate.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; all([](uint8 x){ return x &lt; 3; }, {1, 2});
true

&gt;&gt;&gt; all([](uint8 x){return x &lt; 3; }, {1, 2, 3});
false</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> S, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">zip_with</span>((S, T) -&gt; <span class="keyword">auto</span> <span class="identifier">f</span>, S[N] <span class="identifier">x</span>, T[N] <span class="identifier">y</span>) <a class="anchor" href="#data-array-zip_with" id="data-array-zip_with">ยง</a>
</pre>
<div class="docs">
<p>Combines elements of two arrays using specified function.</p>
<img src="./array.4.svg" />
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; zip_with(add, {1, 2, 3}, {4, 5, 6});
{5, 7, 9}

&gt;&gt;&gt; zip_with(make_optional&lt;uint8&gt;, {true, true, false}, {1, 2, 3});
{{true, 1}, {true, 2}, {false, 3}}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">zip_with_indices</span>((<a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt;, T) -&gt; <span class="keyword">auto</span> <span class="identifier">f</span>, T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-zip_with_indices" id="data-array-zip_with_indices">ยง</a>
</pre>
<div class="docs">
<p>Map array of input values and their indices to result values.</p>
<img src="./array.5.svg" />
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; zip_with_indices( [](index_t&lt;4&gt; i, uint8 byte)
                      {
                          return even(i) ? 0xFF : byte;
                      }
                    , {0x00, 0xAB, 0xBC, 0xDE}
                    )
{0xFF, 0xAB, 0xFF, 0xDE}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/tuple.html#data-tuple-pair"><span class="identifier">pair</span></a>&lt;T1, T2&gt;[N] <span class="identifier">zip</span>(T1[N] <span class="identifier">x</span>, T2[N] <span class="identifier">y</span>) <a class="anchor" href="#data-array-zip" id="data-array-zip">ยง</a>
</pre>
<div class="docs">
<p>Combines two arrays into an array of pairs.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; zip({true, false, false}, {1, 2, 3});
{{true, 1}, {false, 2}, {false, 3}}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N, <span class="keyword">typename</span> T = <a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt;&gt;
<span class="modifier">inline </span>T[N] <span class="identifier">indices</span>() <a class="anchor" href="#data-array-indices" id="data-array-indices">ยง</a>
</pre>
<div class="docs">
<p>Returns array with each element value equal to its index.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; indices&lt;4&gt;();
{0, 1, 2, 3}

&gt;&gt;&gt; uint32[7] a = indices();
{0, 1, 2, 3, 4, 5, 6}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Array length</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T = <a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt;
</pre>
<div class="docs">
<p>Element type</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">minimum</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-minimum" id="data-array-minimum">ยง</a>
</pre>
<div class="docs">
<p>Returns minimum element from an array of integers.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; minimum({5, 3, 87, 22});
3</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">maximum</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-maximum" id="data-array-maximum">ยง</a>
</pre>
<div class="docs">
<p>Returns maximum value in the array of integers.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; maximum({5, 3, 87, 22});
87</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> R, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span>R <span class="identifier">sum</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-sum" id="data-array-sum">ยง</a>
</pre>
<div class="docs">
<p>Sum elements in an array.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; sum&lt;uint9&gt;({0xFF, 0x2F, 0x5E});
0x18C</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt; <span class="identifier">first_valid</span>(<a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt;[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-first_valid" id="data-array-first_valid">ยง</a>
</pre>
<div class="docs">
<p>Given an array of <code>optional&lt;T&gt;</code>, return the first
(lowest array index) item with <code>is_valid</code> true. If there are
no items with <code>is_valid</code> true, then the returned
<code>optional&lt;T&gt;</code> has โis_validโ set to false.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; first_valid&lt;uint8&gt;({{false, 0xAB}, {false, 0x22}});
{false, 0x22}

&gt;&gt;&gt;  first_valid&lt;uint8&gt;({{true, 0xCD}, {true, 0xFF}});
{true, 0xCD}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N, <span class="keyword">auto</span> M&gt;
<span class="modifier">inline </span>
T[M]
<span class="identifier">copy_array</span>(
    T[N] <span class="identifier">source</span>,
    <a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt; <span class="identifier">s_first</span>,
    T[M] <span class="identifier">destination</span>,
    <a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;M&gt; <span class="identifier">d_first</span>,
    <a class="link" href="../type/stdtype.html#type-stdtype-count_t"><span class="identifier">count_t</span></a>&lt;N&gt; <span class="identifier">elements_to_copy</span>
    ) <a class="anchor" href="#data-array-copy_array" id="data-array-copy_array">ยง</a>
</pre>
<div class="docs">
<p>Copies an array or creates a subset of an array.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; copy_array({1, 2, 3, 4}, 1, {0xFF, 0xFF, 0xFF}, 0, 2);
{2, 3, 0xFF}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Source array length.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> M
</pre>
<div class="docs">
<p>Destination array length.</p>
</div>
</li>
</ul>
</div>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
T[N] <span class="identifier">source</span>
</pre>
</li>
<li>
<pre class="signature">
<a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt; <span class="identifier">s_first</span>
</pre>
<div class="docs">
<p>The index of the first element of the source array to copy to the
destination array.</p>
</div>
</li>
<li>
<pre class="signature">
T[M] <span class="identifier">destination</span>
</pre>
</li>
<li>
<pre class="signature">
<a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;M&gt; <span class="identifier">d_first</span>
</pre>
<div class="docs">
<p>The index in the destination array to copy the first element to.</p>
</div>
</li>
<li>
<pre class="signature">
<a class="link" href="../type/stdtype.html#type-stdtype-count_t"><span class="identifier">count_t</span></a>&lt;N&gt; <span class="identifier">elements_to_copy</span>
</pre>
<div class="docs">
<p>The number of array elements to copy from source to destination.</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt;[N] <span class="identifier">unique_by</span>((T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">equality_fn</span>, T[N] <span class="identifier">xs</span>) <a class="anchor" href="#data-array-unique_by" id="data-array-unique_by">ยง</a>
</pre>
<div class="docs">
<p>De-duplicate array elements with user-supplied equality predicate.
For each element e, check the previous elements for duplicates. If there
are any duplicates, mark element e as invalid. Returns an array of
optionals where all valid elements are unique.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; unique_by(order::equal&lt;uint32&gt;, {0, 1, 0});
{{true, 0}, {true, 1}, {false, 0}}</code></pre>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
(T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">equality_fn</span>
</pre>
<div class="docs">
<p>Equality predicate.</p>
</div>
</li>
<li>
<pre class="signature">
T[N] <span class="identifier">xs</span>
</pre>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/optional.html#data-optional-optional"><span class="identifier">optional</span></a>&lt;T&gt;[N] <span class="identifier">unique</span>(T[N] <span class="identifier">xs</span>) <a class="anchor" href="#data-array-unique" id="data-array-unique">ยง</a>
</pre>
<div class="docs">
<p>De-duplicate array elements. Similar to <code>unique_by</code> but
uses the <code>==</code> operator. For each element e, check the
previous elements for duplicates. If there are any duplicates, mark
element e as invalid. Returns an array of optionals where all valid
elements are unique.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; unique({0, 1, 0});
{{true, 0}, {true, 1}, {false, 0}}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">equal_by</span>((T, T) -&gt; <span class="builtin">bool</span> <span class="identifier">equality_fn</span>, T[N] <span class="identifier">xs</span>, T[N] <span class="identifier">ys</span>) <a class="anchor" href="#data-array-equal_by" id="data-array-equal_by">ยง</a>
</pre>
<div class="docs">
<p>Element-wise equality comparison of arrays using specified
function.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; equal_by(optional::equal&lt;uint8&gt;, {{true, 0xFF}}, {{false, 0xFF}});
false

&gt;&gt;&gt; equal_by(pair::equal&lt;uint8, bool&gt;, {{0xAB, true}, {0xCD, false}}, {{0xAB, true}, {0xCD, false}});
true</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="builtin">bool</span> <span class="identifier">equal</span>(T[N] <span class="identifier">xs</span>, T[N] <span class="identifier">ys</span>) <a class="anchor" href="#data-array-equal" id="data-array-equal">ยง</a>
</pre>
<div class="docs">
<p>Element-wise comparison of arrays for equality using
<code>==</code>.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; equal({0x22, 0x1E, 0xFA}, {0x22, 0x1E, 0xFA});
true

&gt;&gt;&gt; equal({true, false}, {false, false});
false</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> L, <span class="keyword">typename</span> R, <span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/tuple.html#data-tuple-pair"><span class="identifier">pair</span></a>&lt;L[N], R[N]&gt; <span class="identifier">unzip_with</span>((T) -&gt; <a class="link" href="../data/tuple.html#data-tuple-tuple2"><span class="identifier">tuple2</span></a>&lt;L, R&gt; <span class="identifier">f</span>, T[N] <span class="identifier">xs</span>) <a class="anchor" href="#data-array-unzip_with" id="data-array-unzip_with">ยง</a>
</pre>
<div class="docs">
<p>Transform an array into a pair of arrays using a projection.</p>
<details>
<summary>Examples</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; unzip_with&lt;bool, uint8&gt;(optional_to_pair&lt;uint8&gt;, {{true, 0x33}, {false, 0xFF}});
{{true, false}, {0x33, 0xFF}}</code></pre>
</details>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">typename</span> L
</pre>
<div class="docs">
<p>Type of first projection of T.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> R
</pre>
<div class="docs">
<p>Type of second projection of T.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">typename</span> T
</pre>
<div class="docs">
<p>Input array element type.</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> N
</pre>
<div class="docs">
<p>Array length.</p>
</div>
</li>
</ul>
</div>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
(T) -&gt; <a class="link" href="../data/tuple.html#data-tuple-tuple2"><span class="identifier">tuple2</span></a>&lt;L, R&gt; <span class="identifier">f</span>
</pre>
<div class="docs">
<p>Mapping from input array element to pair of result elements.</p>
</div>
</li>
<li>
<pre class="signature">
T[N] <span class="identifier">xs</span>
</pre>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> L, <span class="keyword">typename</span> R, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><a class="link" href="../data/tuple.html#data-tuple-pair"><span class="identifier">pair</span></a>&lt;L[N], R[N]&gt; <span class="identifier">unzip</span>(<a class="link" href="../data/tuple.html#data-tuple-tuple2"><span class="identifier">tuple2</span></a>&lt;L, R&gt;[N] <span class="identifier">xs</span>) <a class="anchor" href="#data-array-unzip" id="data-array-unzip">ยง</a>
</pre>
<div class="docs">
<p>Transform an array of pairs into a pair of arrays.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; unzip&lt;uint8, bool&gt;({{0xAF, false}, {0xCE, true}, {0x12, false}});
{{0xAF, 0xCE, 0x12}, {false, true, false}}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N, <span class="keyword">typename</span> T&gt;
<span class="modifier">inline </span>T[N] <span class="identifier">repeat</span>(T <span class="identifier">value</span>) <a class="anchor" href="#data-array-repeat" id="data-array-repeat">ยง</a>
</pre>
<div class="docs">
<p>Construct an array with all elements equal to the same value</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; repeat&lt;4&gt;(false);
{false, false, false, false}

&gt;&gt;&gt; uint8[5] a = repeat(0);
{0, 0, 0, 0, 0}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;
<span class="modifier">inline </span>T[<span class="literal">1</span>] <span class="identifier">singleton</span>(T <span class="identifier">value</span>) <a class="anchor" href="#data-array-singleton" id="data-array-singleton">ยง</a>
</pre>
<div class="docs">
<p>Construct array of one element with specified value</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; singleton(false);
{false}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> N, <span class="keyword">typename</span> T&gt;
<span class="modifier">inline </span>T[N] <span class="identifier">iterate</span>((T) -&gt; T <span class="identifier">f</span>, T <span class="identifier">x</span>) <a class="anchor" href="#data-array-iterate" id="data-array-iterate">ยง</a>
</pre>
<div class="docs">
<p>Return an array of repeated applications of <code>f</code> to
<code>x</code>.</p>
<pre class="kanagawa"><code>prop&gt; iterate(f, x) == {x, f(x), f(f(x), ...}</code></pre>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; iterate&lt;4&gt;([](bool x){ return !x; }, true)
{true, false, true, false}

&gt;&gt;&gt; bool[5] a = iterate([](bool x){ return !x; }, true);
{true, false, true, false, true}</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">at</span>(T[N] <span class="identifier">x</span>, <a class="link" href="../type/stdtype.html#type-stdtype-index_t"><span class="identifier">index_t</span></a>&lt;N&gt; <span class="identifier">i</span>) <a class="anchor" href="#data-array-at" id="data-array-at">ยง</a>
</pre>
<div class="docs">
<p>Access element <code>i</code>. Equivalent to <code>x[i]</code>. If
<code>i</code> is greater than or equal to <code>N</code> then a
<code>assert</code> is triggered.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; at({0, 1, 2, 3}, 2)
2</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">front</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-front" id="data-array-front">ยง</a>
</pre>
<div class="docs">
<p>Return the first element in the array. Equivalent to
<code>x[0]</code>.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; front({0, 1, 2})
0</code></pre>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">auto</span> N&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">back</span>(T[N] <span class="identifier">x</span>) <a class="anchor" href="#data-array-back" id="data-array-back">ยง</a>
</pre>
<div class="docs">
<p>Return the last element in the vector. Equivalent to
<code>x[N - 1]</code>.</p>
<details>
<summary>Example</summary>
<pre class="kanagawa"><code>&gt;&gt;&gt; back({0, 1, 2})
2</code></pre>
</details>
</div>
</section>
</div>
</div>