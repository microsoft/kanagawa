<style>
a
{
  text-decoration : none;
}

a:hover
{
  text-decoration : underline;
}

.container
{
  display        : flex;
  flex-direction : row;
}

.nav
{
  position         : -webkit-sticky;
  position         : sticky;
  flex-basis       : 10%;
  background-color : #f2f3f4;
  padding          : 20px 20px 20px 20px;
  top              : 10vh;
  height           : max-content;
  max-height       : 80vh;
  overflow-y       : auto;
  min-width        : max-content;
  margin           : 3em 3em 3em 3em;
}

.content
{
  flex-basis : 80%;
  max-width  : 1450px;
  margin     : 3em auto 3em auto;
}

.signature
{
  font-family      : monospace;
  background-color : #f2f3f4;
  color            : #373d3f;
  border           : 1px solid #dddddd;
  border-left      : 3px solid #0080ff;
  border-radius    : 5px 5px 5px 5px;
  margin-bottom    : 0.5em;
  padding          : 0.5em 1em 0.5em 1em;
}

.body
{
  font-family : "", sans-serif;
  font-size   : 1em;
  padding     : 10px 10px 10px 10px;
  color       : #1c1b24;
  line-height : 1.4;
}

.docs
{
  padding-left  : 1em;
  margin-top    : -0.4em;
  margin-bottom : 1.4em;
  border-left   : 1px solid #dcdcdc;
}

.docs details
{
  margin-top : 1em;
}

.body h1, h2, h3, h4
{
  color : #283665;
}

.kanagawa
{
  background-color : #f7f7f7;
  padding          : 1em 1em 1em 1em;
}

.anchor
{
  color : #c5c8c6;
}

.attribute
{
  color : #ffa500;
}

.builtin
{
  color : #cfb017;
}

.identifier
{
  font-weight : bold;
}

.keyword
{
  color : #60ac39;
}

.link
{
  color : #6684e1;
}

.literal
{
  color : #d73737;
}

.modifier
{
  color : #b854d4;
}

.subList
{
  list-style-type : none;
}

code
{
  font-family : monospace;
  font-size   : 1.2em;
}

.nav ul
{
  list-style-type : none;
}

.nav > ul
{
  padding-left : 0px;
}


/* Generated with Clay, http://fvisser.nl/clay */</style>
<div id="body" class="body">
<div id="container" class="container">
<section id="nav" class="nav">
<h2>Index</h2>
<ul>
<li><a href="../test/internal/assert.html" id="index-link"
class="link">test.internal.assert</a>
<ul>
<li><a href="../test/internal/assert.html#test-internal-assert-assert"
id="index-link" class="link"><code>assert</code></a></li>
<li><a
href="../test/internal/assert.html#test-internal-assert-assert_equal"
id="index-link" class="link"><code>assert_equal</code></a></li>
<li><a
href="../test/internal/assert.html#test-internal-assert-assert_string"
id="index-link" class="link"><code>assert_string</code></a></li>
<li><a
href="../test/internal/assert.html#test-internal-assert-print_failure"
id="index-link" class="link"><code>print_failure</code></a></li>
<li><a href="../test/internal/assert.html#test-internal-assert-tag_t"
id="index-link" class="link"><code>tag_t</code></a></li>
</ul></li>
<li><a href="../test/unit.html" id="index-link"
class="link">test.unit</a>
<ul>
<li><a href="../test/unit.html#test-unit-check" id="index-link"
class="link"><code>check</code></a></li>
<li><a href="../test/unit.html#test-unit-fixture" id="index-link"
class="link"><code>fixture</code></a></li>
<li><a href="../test/unit.html#test-unit-test" id="index-link"
class="link"><code>test</code></a></li>
</ul></li>
</ul>
</section>
<section id="content" class="content">
<h1>test.unit <a href="../index.html">&equiv;</a></h1>
<p>The simple unit test framework allows defining test cases that can be
conditionally included at compile time. Test cases are identified by
tags and can be selected to be built/executed using two values specified
via compiler <code>--define</code> option:</p>
<ul>
<li>tag - identifies a specific test to be included</li>
<li>mask - specifies a bit mask of tests to be included</li>
</ul>
<p>A test is included in the build/execution if its tag is equal to
specified tag, or if its tag is included in the bit mask. If both tag
and mask are zero, which is the default, all tests are included.</p>
<p>Test tags are constructed from three parts:</p>
<ul>
<li>12 bit test identifier</li>
<li>4 bit group identifier</li>
<li>16 bit flags</li>
</ul>
<p>Only the test identifier is required. Group identifier and flags are
optional and set to 0 by default.</p>
<p>Typical usage scenarios are:</p>
<ul>
<li><p>isolate a specific test to build/execute:</p>
<p><code>--define tag=5</code></p></li>
<li><p>build/execute tests from a specific group, for example to make
build/simulation smaller:</p>
<p><code>--define mask=0x2FFF</code></p></li>
<li><p>build/execute a cross section of all tests with specified
flag(s):</p>
<p><code>--define mask=0x4FFFF</code></p></li>
</ul>
<p>Verbosity of the test framework output is controlled by boolean value
<code>verbose</code> that can be defined via compiler
<code>--define</code> command line option. With verbose output the
framework prints information about all skipped and executed test cases.
By default only information about failed test case(s) is printed.</p>
<hr />
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> Test, <span class="keyword">auto</span> Group = <span class="literal">0</span>, <span class="keyword">auto</span> Flags = <span class="literal">0</span>&gt;
<span class="modifier">inline </span><span class="keyword">void</span> <span class="identifier">check</span>(() -&gt; <span class="builtin">bool</span> <span class="identifier">fn</span>) <a class="anchor" href="#test-unit-check" id="test-unit-check">ยง</a>
</pre>
<div class="docs">
<p>Add a test case that returns <code>true</code> for success and
<code>false</code> for failure.</p>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> Test
</pre>
<div class="docs">
<p>Test id</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> Group = <span class="literal">0</span>
</pre>
<div class="docs">
<p>Optional test group id, by default 0</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> Flags = <span class="literal">0</span>
</pre>
<div class="docs">
<p>Optional test flags, by default 0</p>
</div>
</li>
</ul>
</div>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
() -&gt; <span class="builtin">bool</span> <span class="identifier">fn</span>
</pre>
<div class="docs">
<p>Test case function</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">auto</span> Test, <span class="keyword">auto</span> Group = <span class="literal">0</span>, <span class="keyword">auto</span> Flags = <span class="literal">0</span>&gt;
<span class="modifier">inline </span><span class="keyword">void</span> <span class="identifier">test</span>((<a class="link" href="../test/internal/assert.html#test-internal-assert-tag_t"><span class="identifier">tag_t</span></a>) -&gt; <span class="keyword">void</span> <span class="identifier">fn</span>) <a class="anchor" href="#test-unit-test" id="test-unit-test">ยง</a>
</pre>
<div class="docs">
<p>Add a test case that takes tag argument and uses the assert helpers
to indicate failures.</p>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">auto</span> Test
</pre>
<div class="docs">
<p>Test id</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> Group = <span class="literal">0</span>
</pre>
<div class="docs">
<p>Optional test group id, by default 0</p>
</div>
</li>
<li>
<pre class="signature">
<span class="keyword">auto</span> Flags = <span class="literal">0</span>
</pre>
<div class="docs">
<p>Optional test flags, by default 0</p>
</div>
</li>
</ul>
</div>
</details>
<details>
<p><summary>Arguments</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
(<a class="link" href="../test/internal/assert.html#test-internal-assert-tag_t"><span class="identifier">tag_t</span></a>) -&gt; <span class="keyword">void</span> <span class="identifier">fn</span>
</pre>
<div class="docs">
<p>Test case function</p>
</div>
</li>
</ul>
</div>
</details>
</div>
<pre class="signature">
<span class="keyword">template</span> &lt;<span class="keyword">typename</span> Fixture&gt;
<span class="modifier">inline </span><span class="keyword">auto</span> <span class="identifier">fixture</span>() <a class="anchor" href="#test-unit-fixture" id="test-unit-fixture">ยง</a>
</pre>
<div class="docs">
<p>Use the specified <code>Fixture</code> class to implement a test. A
fixture used with <code>test</code> function must implement a public
method <code>void run(tag_t tag)</code> and use asserts to indicate test
failure. A fixture used with <code>check</code> must implement a public
method <code>bool run()</code> that returns <code>true</code> for
success and <code>false</code> for failure.</p>
<details>
<summary>Example</summary>
</details>
<p>class Foo { public: void run(unit::tag_t tag) {
unit::assert_equal(tag, 4, 2 + 2); } }</p>
<p>unit::test&lt;1&gt;(unit::fixture<Foo>());</p>
<details>
<p><summary>Parameters</summary></p>
<div>
<ul class="subList">
<li>
<pre class="signature">
<span class="keyword">typename</span> Fixture
</pre>
<div class="docs">
<p>Fixture class</p>
</div>
</li>
</ul>
</div>
</details>
</div>
</section>
</div>
</div>